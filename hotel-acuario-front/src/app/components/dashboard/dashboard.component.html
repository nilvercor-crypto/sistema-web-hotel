<div class="dashboard-container">
  <div class="dashboard-header">
    <h1 class="dashboard-title">Dashboard</h1>
    <p class="dashboard-subtitle">Resumen general del sistema</p>
  </div>

  <div *ngIf="loading" class="loading-container">
    <mat-spinner diameter="50"></mat-spinner>
    <p>Cargando estadísticas...</p>
  </div>

  <div *ngIf="error" class="error-container">
    <mat-icon color="warn">error</mat-icon>
    <p>{{ error }}</p>
    <button mat-raised-button color="primary" (click)="cargarEstadisticas()">
      Reintentar
    </button>
  </div>

  <div *ngIf="stats && !loading" class="stats-grid">
    <!-- Reservas -->
    <mat-card class="stat-card stat-card-primary">
      <mat-card-content>
        <div class="stat-icon">
          <mat-icon>event</mat-icon>
        </div>
        <div class="stat-content">
          <h3 class="stat-label">Reservas Hoy</h3>
          <p class="stat-value">{{ stats.totalReservasHoy }}</p>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="stat-card stat-card-primary">
      <mat-card-content>
        <div class="stat-icon">
          <mat-icon>calendar_month</mat-icon>
        </div>
        <div class="stat-content">
          <h3 class="stat-label">Reservas del Mes</h3>
          <p class="stat-value">{{ stats.totalReservasMes }}</p>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="stat-card stat-card-primary">
      <mat-card-content>
        <div class="stat-icon">
          <mat-icon>calendar_today</mat-icon>
        </div>
        <div class="stat-content">
          <h3 class="stat-label">Reservas del Año</h3>
          <p class="stat-value">{{ stats.totalReservasAnio }}</p>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Ingresos -->
    <mat-card class="stat-card stat-card-success">
      <mat-card-content>
        <div class="stat-icon">
          <mat-icon>attach_money</mat-icon>
        </div>
        <div class="stat-content">
          <h3 class="stat-label">Ingresos Totales</h3>
          <p class="stat-value">{{ formatearMoneda(stats.ingresosTotales) }}</p>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="stat-card stat-card-success">
      <mat-card-content>
        <div class="stat-icon">
          <mat-icon>trending_up</mat-icon>
        </div>
        <div class="stat-content">
          <h3 class="stat-label">Ingresos del Mes</h3>
          <p class="stat-value">{{ formatearMoneda(stats.ingresosMes) }}</p>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="stat-card stat-card-success">
      <mat-card-content>
        <div class="stat-icon">
          <mat-icon>account_balance</mat-icon>
        </div>
        <div class="stat-content">
          <h3 class="stat-label">Ingresos del Año</h3>
          <p class="stat-value">{{ formatearMoneda(stats.ingresosAnio) }}</p>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Habitaciones -->
    <mat-card class="stat-card stat-card-info">
      <mat-card-content>
        <div class="stat-icon">
          <mat-icon>hotel</mat-icon>
        </div>
        <div class="stat-content">
          <h3 class="stat-label">Habitaciones Ocupadas</h3>
          <p class="stat-value">{{ stats.habitacionesOcupadas }}</p>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="stat-card stat-card-info">
      <mat-card-content>
        <div class="stat-icon">
          <mat-icon>check_circle</mat-icon>
        </div>
        <div class="stat-content">
          <h3 class="stat-label">Habitaciones Disponibles</h3>
          <p class="stat-value">{{ stats.habitacionesDisponibles }}</p>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="stat-card stat-card-warning">
      <mat-card-content>
        <div class="stat-icon">
          <mat-icon>build</mat-icon>
        </div>
        <div class="stat-content">
          <h3 class="stat-label">En Mantenimiento</h3>
          <p class="stat-value">{{ stats.habitacionesMantenimiento }}</p>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Estados de Reservas -->
    <mat-card class="stat-card stat-card-warning">
      <mat-card-content>
        <div class="stat-icon">
          <mat-icon>schedule</mat-icon>
        </div>
        <div class="stat-content">
          <h3 class="stat-label">Reservas Pendientes</h3>
          <p class="stat-value">{{ stats.reservasPendientes }}</p>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="stat-card stat-card-success">
      <mat-card-content>
        <div class="stat-icon">
          <mat-icon>check_circle</mat-icon>
        </div>
        <div class="stat-content">
          <h3 class="stat-label">Reservas Confirmadas</h3>
          <p class="stat-value">{{ stats.reservasConfirmadas }}</p>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="stat-card stat-card-danger">
      <mat-card-content>
        <div class="stat-icon">
          <mat-icon>cancel</mat-icon>
        </div>
        <div class="stat-content">
          <h3 class="stat-label">Reservas Canceladas</h3>
          <p class="stat-value">{{ stats.reservasCanceladas }}</p>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="stat-card stat-card-info">
      <mat-card-content>
        <div class="stat-icon">
          <mat-icon>done_all</mat-icon>
        </div>
        <div class="stat-content">
          <h3 class="stat-label">Reservas Finalizadas</h3>
          <p class="stat-value">{{ stats.reservasFinalizadas }}</p>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Totales -->
    <mat-card class="stat-card stat-card-primary">
      <mat-card-content>
        <div class="stat-icon">
          <mat-icon>people</mat-icon>
        </div>
        <div class="stat-content">
          <h3 class="stat-label">Total Clientes</h3>
          <p class="stat-value">{{ stats.totalClientes }}</p>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="stat-card stat-card-primary">
      <mat-card-content>
        <div class="stat-icon">
          <mat-icon>bed</mat-icon>
        </div>
        <div class="stat-content">
          <h3 class="stat-label">Total Habitaciones</h3>
          <p class="stat-value">{{ stats.totalHabitaciones }}</p>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="stat-card stat-card-primary">
      <mat-card-content>
        <div class="stat-icon">
          <mat-icon>room_service</mat-icon>
        </div>
        <div class="stat-content">
          <h3 class="stat-label">Total Servicios</h3>
          <p class="stat-value">{{ stats.totalServicios }}</p>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>
